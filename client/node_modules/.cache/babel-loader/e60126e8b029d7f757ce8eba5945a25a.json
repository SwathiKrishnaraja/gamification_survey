{"ast":null,"code":"import _slicedToArray from\"/Users/gowthammohan/Swathi/gamification_survey/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from'react';import Header from'../components/Header';import Footer from'../components/Footer';import CustomProgressBar from'../components/CustomProgressBar';import{useTranslation}from'react-i18next';import{model}from'../survey/MockQuestionsGamified';import*as Survey from'survey-react';import GuidedTourModal from'../components/GuidedTour/GuidedTourModal';import{useHistory}from'react-router-dom';import Joyride from'react-joyride';import GuidedTourBadges from'../components/GuidedTour/GuidedTourBadges';import{stepsForTour1}from'../components/GuidedTour/TourSteps';import{listOfMockImages}from'../badges/BadgeList';import{useDispatch}from'react-redux';import ExitSurvey from'../components/ExitSurvey';var TourContinueElement=function TourContinueElement(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Congratulations !\"),/*#__PURE__*/React.createElement(\"hr\",{style:{width:'98%'}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h4\",null,\"You have finished the Guided tour of the second version.\"));};export var SurveyQuestions=function SurveyQuestions(){return/*#__PURE__*/React.createElement(Survey.Survey,{model:model});};var GuidedTourGamified=function GuidedTourGamified(){var dispatch=useDispatch();var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),runTour1=_useState2[0],setRunTour1=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showModal=_useState4[0],setShowModal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showTour=_useState6[0],setShowTour=_useState6[1];var handleJoyrideCallbackForTour1=function handleJoyrideCallbackForTour1(data){var index=data.index,status=data.status;console.log(index,status);if(index===4&&status==='running'){dispatch({type:'ADD_BADGE',payload:listOfMockImages[0]});}if(status==='ready'){setShowModal(true);}};var handleStartTour=function handleStartTour(event){event.preventDefault();setRunTour1(true);setShowTour(true);};var handleTourProceed=function handleTourProceed(){dispatch({type:'REMOVE_BADGE',payload:listOfMockImages[0]});history.push('/ChooseVersion');};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Joyride,{callback:handleJoyrideCallbackForTour1,steps:stepsForTour1,run:runTour1,spotlightClicks:true,hideBackButton:true,styles:{options:{arrowColor:'#f5f5f5',backgroundColor:'#f5f5f5',zIndex:1000}},continuous:true}),/*#__PURE__*/React.createElement(Header,{children:/*#__PURE__*/React.createElement(ExitSurvey,null)}),/*#__PURE__*/React.createElement(\"div\",{className:\"main-body\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Here is a guided tour for the second version of the survey\"),/*#__PURE__*/React.createElement(\"button\",{className:\"continue-button\",onClick:handleStartTour},\"Start Tour\"),showTour?/*#__PURE__*/React.createElement(\"div\",{className:\"guided-tour-div\"},/*#__PURE__*/React.createElement(GuidedTourBadges,null),/*#__PURE__*/React.createElement(CustomProgressBar,{progress:70}),/*#__PURE__*/React.createElement(SurveyQuestions,null),showModal?/*#__PURE__*/React.createElement(GuidedTourModal,{showModal:showModal,handleClick:handleTourProceed,children:/*#__PURE__*/React.createElement(TourContinueElement,null),modalWindowButton:\"Continue\",styleClass:\"guided-modal-main\",buttonClass:\"continue-button\"}):/*#__PURE__*/React.createElement(Fragment,null)):/*#__PURE__*/React.createElement(Fragment,null)),/*#__PURE__*/React.createElement(Footer,null));};export default GuidedTourGamified;","map":{"version":3,"sources":["/Users/gowthammohan/Swathi/gamification_survey/client/src/pages/GuidedTourGamified.tsx"],"names":["React","Fragment","useState","Header","Footer","CustomProgressBar","useTranslation","model","Survey","GuidedTourModal","useHistory","Joyride","GuidedTourBadges","stepsForTour1","listOfMockImages","useDispatch","ExitSurvey","TourContinueElement","width","SurveyQuestions","GuidedTourGamified","dispatch","t","history","runTour1","setRunTour1","showModal","setShowModal","showTour","setShowTour","handleJoyrideCallbackForTour1","data","index","status","console","log","type","payload","handleStartTour","event","preventDefault","handleTourProceed","push","options","arrowColor","backgroundColor","zIndex"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useContext, useEffect } from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport CustomProgressBar from '../components/CustomProgressBar'\nimport { useTranslation } from 'react-i18next';\nimport { model } from '../survey/MockQuestionsGamified'\nimport * as Survey from 'survey-react'\nimport GuidedTourModal from '../components/GuidedTour/GuidedTourModal'\nimport { useHistory } from 'react-router-dom';\nimport Joyride, { CallBackProps } from 'react-joyride';\nimport GuidedTourBadges from '../components/GuidedTour/GuidedTourBadges'\nimport { stepsForTour1 } from '../components/GuidedTour/TourSteps'\nimport { listOfMockImages } from '../badges/BadgeList'\nimport { useDispatch } from 'react-redux'\nimport ExitSurvey from '../components/ExitSurvey'\n\nconst TourContinueElement: React.FC = () => {\n    return (\n        <div>\n            <h2>Congratulations !</h2>\n            <hr style={{ width: '98%' }} />\n            <br />\n            <h4>\n                You have finished the Guided tour of the second version.\n            </h4>\n\n        </div>\n    )\n}\n\nexport const SurveyQuestions = () => {\n    return (\n        <Survey.Survey model={model}\n        />\n    )\n}\n\nconst GuidedTourGamified = () => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const history = useHistory()\n    const [runTour1, setRunTour1] = useState(false)\n    const [showModal, setShowModal] = useState(false)\n    const [showTour, setShowTour] = useState(false)\n\n    const handleJoyrideCallbackForTour1 = (data: CallBackProps) => {\n        const { index, status } = data\n        console.log(index, status)\n        if (index === 4 && status === 'running') {\n            dispatch({ type: 'ADD_BADGE', payload: listOfMockImages[0] })\n        }\n        if (status === 'ready') {\n            setShowModal(true)\n        }\n\n    }\n    const handleStartTour = (event: React.MouseEvent<HTMLElement>) => {\n        event.preventDefault()\n        setRunTour1(true)\n        setShowTour(true)\n    }\n\n    const handleTourProceed = () => {\n        dispatch({ type: 'REMOVE_BADGE', payload: listOfMockImages[0] })\n        history.push('/ChooseVersion')\n    }\n\n    return (\n        <div className=\"container\">\n            <Joyride\n                callback={handleJoyrideCallbackForTour1}\n                steps={stepsForTour1}\n                run={runTour1}\n                spotlightClicks={true}\n                hideBackButton={true}\n                styles={{\n                    options: {\n                        arrowColor: '#f5f5f5',\n                        backgroundColor: '#f5f5f5',\n                        zIndex: 1000,\n                    }\n                }}\n                continuous={true} />\n            <Header children={<ExitSurvey />} />\n            <div className=\"main-body\">\n                <h2>Here is a guided tour for the second version of the survey</h2>\n                <button className='continue-button' onClick={handleStartTour}>Start Tour</button>\n                {\n                    showTour\n                        ? <div className='guided-tour-div'>\n                            <GuidedTourBadges />\n                            <CustomProgressBar progress={70} />\n                            <SurveyQuestions />\n                            {\n                                showModal\n                                    ? <GuidedTourModal showModal={showModal} handleClick={handleTourProceed} children={<TourContinueElement />} modalWindowButton='Continue' styleClass='guided-modal-main' buttonClass='continue-button' />\n                                    : <Fragment />}\n                        </div>\n                        : <Fragment />\n                }\n            </div>\n            <Footer />\n        </div >\n    );\n};\n\nexport default GuidedTourGamified;\n"]},"metadata":{},"sourceType":"module"}