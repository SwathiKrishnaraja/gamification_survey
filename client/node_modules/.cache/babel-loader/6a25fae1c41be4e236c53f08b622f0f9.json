{"ast":null,"code":"var _jsxFileName = \"/Users/gowthammohan/Swathi/gamification_survey/src/pages/GuidedTourGamified.tsx\";\nimport React, { Fragment, useState } from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport CustomProgressBar from '../components/CustomProgressBar';\nimport { useTranslation } from 'react-i18next';\nimport { model } from '../survey/MockQuestionsGamified';\nimport * as Survey from 'survey-react';\nimport GuidedTourModal from '../components/GuidedTour/GuidedTourModal';\nimport { useHistory } from 'react-router-dom';\nimport Joyride from 'react-joyride';\nimport GuidedTourBadges from '../components/GuidedTour/GuidedTourBadges';\nimport { stepsForTour1 } from '../components/GuidedTour/TourSteps';\nimport { listOfMockImages } from '../badges/BadgeList';\nimport { useDispatch } from 'react-redux';\nimport ExitSurvey from '../components/ExitSurvey';\n\nconst TourContinueElement = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }\n  }, \"Congratulations !\"), /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      width: '98%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }, \"You have finished the Guided tour of the second version.\"));\n};\n\nexport const SurveyQuestions = () => {\n  return /*#__PURE__*/React.createElement(Survey.Survey, {\n    model: model,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  });\n};\n\nconst GuidedTourGamified = () => {\n  const dispatch = useDispatch();\n  const {\n    t\n  } = useTranslation();\n  const history = useHistory();\n  const [runTour1, setRunTour1] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [showTour, setShowTour] = useState(false);\n\n  const handleJoyrideCallbackForTour1 = data => {\n    const {\n      index,\n      status\n    } = data;\n    console.log(index, status);\n\n    if (index === 4 && status === 'running') {\n      dispatch({\n        type: 'ADD_BADGE',\n        payload: listOfMockImages[0]\n      });\n    }\n\n    if (status === 'ready') {\n      setShowModal(true);\n    }\n  };\n\n  const handleStartTour = event => {\n    event.preventDefault();\n    setRunTour1(true);\n    setShowTour(true);\n  };\n\n  const handleTourProceed = () => {\n    dispatch({\n      type: 'REMOVE_BADGE',\n      payload: listOfMockImages[0]\n    });\n    history.push('/ChooseVersion');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Joyride, {\n    callback: handleJoyrideCallbackForTour1,\n    steps: stepsForTour1,\n    run: runTour1,\n    spotlightClicks: true,\n    hideBackButton: true,\n    styles: {\n      options: {\n        arrowColor: '#f5f5f5',\n        backgroundColor: '#f5f5f5',\n        zIndex: 1000\n      }\n    },\n    continuous: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    children: /*#__PURE__*/React.createElement(ExitSurvey, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 31\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"Here is a guided tour for the second version of the survey\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"continue-button\",\n    onClick: handleStartTour,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Start Tour\"), showTour ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"guided-tour-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(GuidedTourBadges, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(CustomProgressBar, {\n    progress: 70,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(SurveyQuestions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }), showModal ? /*#__PURE__*/React.createElement(GuidedTourModal, {\n    showModal: showModal,\n    handleClick: handleTourProceed,\n    children: /*#__PURE__*/React.createElement(TourContinueElement, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 120\n      }\n    }),\n    modalWindowButton: \"Continue\",\n    styleClass: \"guided-modal-main\",\n    buttonClass: \"continue-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 39\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 39\n    }\n  })) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default GuidedTourGamified;","map":{"version":3,"sources":["/Users/gowthammohan/Swathi/gamification_survey/src/pages/GuidedTourGamified.tsx"],"names":["React","Fragment","useState","Header","Footer","CustomProgressBar","useTranslation","model","Survey","GuidedTourModal","useHistory","Joyride","GuidedTourBadges","stepsForTour1","listOfMockImages","useDispatch","ExitSurvey","TourContinueElement","width","SurveyQuestions","GuidedTourGamified","dispatch","t","history","runTour1","setRunTour1","showModal","setShowModal","showTour","setShowTour","handleJoyrideCallbackForTour1","data","index","status","console","log","type","payload","handleStartTour","event","preventDefault","handleTourProceed","push","options","arrowColor","backgroundColor","zIndex"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useContext, useEffect } from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport CustomProgressBar from '../components/CustomProgressBar'\nimport { useTranslation } from 'react-i18next';\nimport { model } from '../survey/MockQuestionsGamified'\nimport * as Survey from 'survey-react'\nimport GuidedTourModal from '../components/GuidedTour/GuidedTourModal'\nimport { useHistory } from 'react-router-dom';\nimport Joyride, { CallBackProps } from 'react-joyride';\nimport GuidedTourBadges from '../components/GuidedTour/GuidedTourBadges'\nimport { stepsForTour1 } from '../components/GuidedTour/TourSteps'\nimport { listOfMockImages } from '../badges/BadgeList'\nimport { useDispatch } from 'react-redux'\nimport ExitSurvey from '../components/ExitSurvey'\n\nconst TourContinueElement: React.FC = () => {\n    return (\n        <div>\n            <h2>Congratulations !</h2>\n            <hr style={{ width: '98%' }} />\n            <br />\n            <h4>\n                You have finished the Guided tour of the second version.\n            </h4>\n\n        </div>\n    )\n}\n\nexport const SurveyQuestions = () => {\n    return (\n        <Survey.Survey model={model}\n        />\n    )\n}\n\nconst GuidedTourGamified = () => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const history = useHistory()\n    const [runTour1, setRunTour1] = useState(false)\n    const [showModal, setShowModal] = useState(false)\n    const [showTour, setShowTour] = useState(false)\n\n    const handleJoyrideCallbackForTour1 = (data: CallBackProps) => {\n        const { index, status } = data\n        console.log(index, status)\n        if (index === 4 && status === 'running') {\n            dispatch({ type: 'ADD_BADGE', payload: listOfMockImages[0] })\n        }\n        if (status === 'ready') {\n            setShowModal(true)\n        }\n\n    }\n    const handleStartTour = (event: React.MouseEvent<HTMLElement>) => {\n        event.preventDefault()\n        setRunTour1(true)\n        setShowTour(true)\n    }\n\n    const handleTourProceed = () => {\n        dispatch({ type: 'REMOVE_BADGE', payload: listOfMockImages[0] })\n        history.push('/ChooseVersion')\n    }\n\n    return (\n        <div className=\"container\">\n            <Joyride\n                callback={handleJoyrideCallbackForTour1}\n                steps={stepsForTour1}\n                run={runTour1}\n                spotlightClicks={true}\n                hideBackButton={true}\n                styles={{\n                    options: {\n                        arrowColor: '#f5f5f5',\n                        backgroundColor: '#f5f5f5',\n                        zIndex: 1000,\n                    }\n                }}\n                continuous={true} />\n            <Header children={<ExitSurvey />} />\n            <div className=\"main-body\">\n                <h2>Here is a guided tour for the second version of the survey</h2>\n                <button className='continue-button' onClick={handleStartTour}>Start Tour</button>\n                {\n                    showTour\n                        ? <div className='guided-tour-div'>\n                            <GuidedTourBadges />\n                            <CustomProgressBar progress={70} />\n                            <SurveyQuestions />\n                            {\n                                showModal\n                                    ? <GuidedTourModal showModal={showModal} handleClick={handleTourProceed} children={<TourContinueElement />} modalWindowButton='Continue' styleClass='guided-modal-main' buttonClass='continue-button' />\n                                    : <Fragment />}\n                        </div>\n                        : <Fragment />\n                }\n            </div>\n            <Footer />\n        </div >\n    );\n};\n\nexport default GuidedTourGamified;\n"]},"metadata":{},"sourceType":"module"}